{"mappings":"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","sources":["health-records.js"],"sourcesContent":["// Health Records Management System\r\nclass HealthRecordsManager {\r\n    constructor() {\r\n        this.records = JSON.parse(localStorage.getItem('healthRecords')) || [];\r\n        this.currentFilter = 'all';\r\n        this.editingRecord = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.bindEvents();\r\n        this.updateStats();\r\n        this.renderRecords();\r\n    }\r\n\r\n    bindEvents() {\r\n        // Modal controls\r\n        document.getElementById('add-record-btn').addEventListener('click', () => this.openModal());\r\n        document.getElementById('add-first-record-btn').addEventListener('click', () => this.openModal());\r\n        document.getElementById('close-modal').addEventListener('click', () => this.closeModal());\r\n        document.getElementById('cancel-btn').addEventListener('click', () => this.closeModal());\r\n\r\n        // Form submission\r\n        document.getElementById('record-form').addEventListener('submit', (e) => this.saveRecord(e));\r\n\r\n        // Record type change\r\n        document.getElementById('record-type').addEventListener('change', (e) => this.showRecordFields(e.target.value));\r\n\r\n        // Filter change\r\n        document.getElementById('record-filter').addEventListener('change', (e) => {\r\n            this.currentFilter = e.target.value;\r\n            this.renderRecords();\r\n        });\r\n\r\n        // Click outside modal to close\r\n        document.getElementById('add-record-modal').addEventListener('click', (e) => {\r\n            if (e.target.id === 'add-record-modal') {\r\n                this.closeModal();\r\n            }\r\n        });\r\n    }\r\n\r\n    openModal(record = null) {\r\n        this.editingRecord = record;\r\n        const modal = document.getElementById('add-record-modal');\r\n        const form = document.getElementById('record-form');\r\n        const title = document.getElementById('modal-title');\r\n\r\n        if (record) {\r\n            title.textContent = 'Edit Health Record';\r\n            this.populateForm(record);\r\n        } else {\r\n            title.textContent = 'Add Health Record';\r\n            form.reset();\r\n            this.showRecordFields(''); // Hide all fields\r\n        }\r\n\r\n        modal.classList.add('show');\r\n    }\r\n\r\n    closeModal() {\r\n        const modal = document.getElementById('add-record-modal');\r\n        modal.classList.remove('show');\r\n        this.editingRecord = null;\r\n    }\r\n\r\n    showRecordFields(type) {\r\n        // Hide all field groups\r\n        document.querySelectorAll('.record-fields').forEach(field => {\r\n            field.style.display = 'none';\r\n        });\r\n\r\n        // Show selected field group\r\n        if (type) {\r\n            document.getElementById(`${type}-fields`).style.display = 'block';\r\n        }\r\n    }\r\n\r\n    populateForm(record) {\r\n        document.getElementById('record-type').value = record.type;\r\n        this.showRecordFields(record.type);\r\n\r\n        // Populate fields based on record type\r\n        switch (record.type) {\r\n            case 'visits':\r\n                document.getElementById('visit-date').value = record.visitDate || '';\r\n                document.getElementById('doctor-name').value = record.doctorName || '';\r\n                document.getElementById('specialty').value = record.specialty || '';\r\n                document.getElementById('diagnosis').value = record.diagnosis || '';\r\n                document.getElementById('notes').value = record.notes || '';\r\n                break;\r\n            case 'medications':\r\n                document.getElementById('medication-name').value = record.medicationName || '';\r\n                document.getElementById('dosage').value = record.dosage || '';\r\n                document.getElementById('frequency').value = record.frequency || '';\r\n                document.getElementById('start-date').value = record.startDate || '';\r\n                document.getElementById('end-date').value = record.endDate || '';\r\n                document.getElementById('prescribing-doctor').value = record.prescribingDoctor || '';\r\n                break;\r\n            case 'allergies':\r\n                document.getElementById('allergen').value = record.allergen || '';\r\n                document.getElementById('reaction').value = record.reaction || '';\r\n                document.getElementById('severity').value = record.severity || '';\r\n                document.getElementById('allergy-notes').value = record.allergyNotes || '';\r\n                break;\r\n            case 'vaccinations':\r\n                document.getElementById('vaccine-name').value = record.vaccineName || '';\r\n                document.getElementById('vaccination-date').value = record.vaccinationDate || '';\r\n                document.getElementById('batch-number').value = record.batchNumber || '';\r\n                document.getElementById('administered-by').value = record.administeredBy || '';\r\n                break;\r\n            case 'lab-results':\r\n                document.getElementById('test-name').value = record.testName || '';\r\n                document.getElementById('test-date').value = record.testDate || '';\r\n                document.getElementById('results').value = record.results || '';\r\n                document.getElementById('lab-name').value = record.labName || '';\r\n                break;\r\n        }\r\n    }\r\n\r\n    saveRecord(e) {\r\n        e.preventDefault();\r\n        console.log('Save record triggered');\r\n\r\n        const form = e.target;\r\n        const formData = new FormData(form);\r\n        const recordType = formData.get('type');\r\n        console.log('Record type:', recordType);\r\n        console.log('Form data:', Object.fromEntries(formData));\r\n\r\n        if (!recordType || recordType === '') {\r\n            alert('Please select a record type');\r\n            return;\r\n        }\r\n\r\n        const record = {\r\n            id: this.editingRecord ? this.editingRecord.id : Date.now(),\r\n            type: recordType,\r\n            dateCreated: this.editingRecord ? this.editingRecord.dateCreated : new Date().toISOString(),\r\n            lastModified: new Date().toISOString()\r\n        };\r\n\r\n        // Add type-specific data\r\n        switch (recordType) {\r\n            case 'visits':\r\n                record.visitDate = formData.get('visitDate');\r\n                record.doctorName = formData.get('doctorName');\r\n                record.specialty = formData.get('specialty');\r\n                record.diagnosis = formData.get('diagnosis');\r\n                record.notes = formData.get('notes');\r\n                break;\r\n            case 'medications':\r\n                record.medicationName = formData.get('medicationName');\r\n                record.dosage = formData.get('dosage');\r\n                record.frequency = formData.get('frequency');\r\n                record.startDate = formData.get('startDate');\r\n                record.endDate = formData.get('endDate');\r\n                record.prescribingDoctor = formData.get('prescribingDoctor');\r\n                break;\r\n            case 'allergies':\r\n                record.allergen = formData.get('allergen');\r\n                record.reaction = formData.get('reaction');\r\n                record.severity = formData.get('severity');\r\n                record.allergyNotes = formData.get('allergyNotes');\r\n                break;\r\n            case 'vaccinations':\r\n                record.vaccineName = formData.get('vaccineName');\r\n                record.vaccinationDate = formData.get('vaccinationDate');\r\n                record.batchNumber = formData.get('batchNumber');\r\n                record.administeredBy = formData.get('administeredBy');\r\n                break;\r\n            case 'lab-results':\r\n                record.testName = formData.get('testName');\r\n                record.testDate = formData.get('testDate');\r\n                record.results = formData.get('results');\r\n                record.labName = formData.get('labName');\r\n                break;\r\n        }\r\n\r\n        if (this.editingRecord) {\r\n            const index = this.records.findIndex(r => r.id === this.editingRecord.id);\r\n            if (index !== -1) {\r\n                this.records[index] = record;\r\n            }\r\n        } else {\r\n            this.records.push(record);\r\n        }\r\n\r\n        this.saveToStorage();\r\n        this.updateStats();\r\n        this.renderRecords();\r\n        this.closeModal();\r\n    }\r\n\r\n    deleteRecord(id) {\r\n        if (confirm('Are you sure you want to delete this health record? This action cannot be undone.')) {\r\n            this.records = this.records.filter(record => record.id !== id);\r\n            this.saveToStorage();\r\n            this.updateStats();\r\n            this.renderRecords();\r\n        }\r\n    }\r\n\r\n    saveToStorage() {\r\n        localStorage.setItem('healthRecords', JSON.stringify(this.records));\r\n    }\r\n\r\n    updateStats() {\r\n        const stats = {\r\n            visits: this.records.filter(r => r.type === 'visits').length,\r\n            medications: this.records.filter(r => r.type === 'medications').length,\r\n            allergies: this.records.filter(r => r.type === 'allergies').length,\r\n            vaccinations: this.records.filter(r => r.type === 'vaccinations').length\r\n        };\r\n\r\n        document.getElementById('visits-count').textContent = stats.visits;\r\n        document.getElementById('medications-count').textContent = stats.medications;\r\n        document.getElementById('allergies-count').textContent = stats.allergies;\r\n        document.getElementById('vaccinations-count').textContent = stats.vaccinations;\r\n    }\r\n\r\n    renderRecords() {\r\n        const container = document.getElementById('records-list');\r\n        const filteredRecords = this.currentFilter === 'all'\r\n            ? this.records\r\n            : this.records.filter(record => record.type === this.currentFilter);\r\n\r\n        if (filteredRecords.length === 0) {\r\n            if (this.records.length === 0) {\r\n                container.innerHTML = `\r\n                    <div class=\"empty-state\">\r\n                        <i class=\"fas fa-clipboard-list\"></i>\r\n                        <h3>No health records yet</h3>\r\n                        <p>Start by adding your first health record to keep track of your medical history.</p>\r\n                        <button class=\"btn btn-primary\" id=\"add-first-record-btn\">\r\n                            <i class=\"fas fa-plus\"></i> Add Your First Record\r\n                        </button>\r\n                    </div>\r\n                `;\r\n                document.getElementById('add-first-record-btn').addEventListener('click', () => this.openModal());\r\n            } else {\r\n                container.innerHTML = `\r\n                    <div class=\"empty-state\">\r\n                        <i class=\"fas fa-filter\"></i>\r\n                        <h3>No records found</h3>\r\n                        <p>No ${this.currentFilter} records match your current filter.</p>\r\n                    </div>\r\n                `;\r\n            }\r\n            return;\r\n        }\r\n\r\n        // Sort records by date (newest first)\r\n        filteredRecords.sort((a, b) => new Date(b.lastModified) - new Date(a.lastModified));\r\n\r\n        container.innerHTML = filteredRecords.map(record => this.createRecordCard(record)).join('');\r\n    }\r\n\r\n    createRecordCard(record) {\r\n        const typeConfig = {\r\n            visits: { icon: 'fa-calendar-check', label: 'Medical Visit' },\r\n            medications: { icon: 'fa-pills', label: 'Medication' },\r\n            allergies: { icon: 'fa-allergies', label: 'Allergy' },\r\n            vaccinations: { icon: 'fa-syringe', label: 'Vaccination' },\r\n            'lab-results': { icon: 'fa-flask', label: 'Lab Result' }\r\n        };\r\n\r\n        const config = typeConfig[record.type];\r\n        const date = new Date(record.lastModified).toLocaleDateString();\r\n\r\n        let content = '';\r\n\r\n        switch (record.type) {\r\n            case 'visits':\r\n                content = `\r\n                    <h4>${record.doctorName || 'Doctor'} - ${record.specialty || 'Specialty'}</h4>\r\n                    <p><strong>Date:</strong> ${record.visitDate ? new Date(record.visitDate).toLocaleDateString() : 'Not specified'}</p>\r\n                    ${record.diagnosis ? `<p><strong>Diagnosis:</strong> ${record.diagnosis}</p>` : ''}\r\n                    ${record.notes ? `<p><strong>Notes:</strong> ${record.notes}</p>` : ''}\r\n                `;\r\n                break;\r\n            case 'medications':\r\n                content = `\r\n                    <h4>${record.medicationName}</h4>\r\n                    <p><strong>Dosage:</strong> ${record.dosage || 'Not specified'}</p>\r\n                    <p><strong>Frequency:</strong> ${record.frequency || 'Not specified'}</p>\r\n                    <p><strong>Start Date:</strong> ${record.startDate ? new Date(record.startDate).toLocaleDateString() : 'Not specified'}</p>\r\n                    ${record.prescribingDoctor ? `<p><strong>Prescribed by:</strong> ${record.prescribingDoctor}</p>` : ''}\r\n                `;\r\n                break;\r\n            case 'allergies':\r\n                content = `\r\n                    <h4>${record.allergen}</h4>\r\n                    <p><strong>Reaction:</strong> ${record.reaction || 'Not specified'}</p>\r\n                    <p><strong>Severity:</strong> ${record.severity || 'Not specified'}</p>\r\n                    ${record.allergyNotes ? `<p><strong>Notes:</strong> ${record.allergyNotes}</p>` : ''}\r\n                `;\r\n                break;\r\n            case 'vaccinations':\r\n                content = `\r\n                    <h4>${record.vaccineName}</h4>\r\n                    <p><strong>Date:</strong> ${record.vaccinationDate ? new Date(record.vaccinationDate).toLocaleDateString() : 'Not specified'}</p>\r\n                    ${record.batchNumber ? `<p><strong>Batch:</strong> ${record.batchNumber}</p>` : ''}\r\n                    ${record.administeredBy ? `<p><strong>Administered by:</strong> ${record.administeredBy}</p>` : ''}\r\n                `;\r\n                break;\r\n            case 'lab-results':\r\n                content = `\r\n                    <h4>${record.testName}</h4>\r\n                    <p><strong>Date:</strong> ${record.testDate ? new Date(record.testDate).toLocaleDateString() : 'Not specified'}</p>\r\n                    ${record.results ? `<p><strong>Results:</strong> ${record.results}</p>` : ''}\r\n                    ${record.labName ? `<p><strong>Lab:</strong> ${record.labName}</p>` : ''}\r\n                `;\r\n                break;\r\n        }\r\n\r\n        return `\r\n            <div class=\"record-card\" data-id=\"${record.id}\">\r\n                <div class=\"record-header\">\r\n                    <div class=\"record-type\">\r\n                        <div class=\"record-type-icon\">\r\n                            <i class=\"fas ${config.icon}\"></i>\r\n                        </div>\r\n                        <div class=\"record-type-text\">${config.label}</div>\r\n                    </div>\r\n                    <div class=\"record-date\">${date}</div>\r\n                </div>\r\n                <div class=\"record-content\">\r\n                    ${content}\r\n                </div>\r\n                <div class=\"record-actions\">\r\n                    <button class=\"btn-edit\" onclick=\"healthRecordsManager.openModal(${JSON.stringify(record).replace(/\"/g, '\"')})\">\r\n                        <i class=\"fas fa-edit\"></i> Edit\r\n                    </button>\r\n                    <button class=\"btn-delete\" onclick=\"healthRecordsManager.deleteRecord(${record.id})\">\r\n                        <i class=\"fas fa-trash\"></i> Delete\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n}\r\n\r\n// Initialize the health records manager when the page loads\r\nlet healthRecordsManager;\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    healthRecordsManager = new HealthRecordsManager();\r\n});\r\n"],"names":[],"version":3,"file":"health-records.56acd662.js.map","sourceRoot":"/__parcel_source_root/"}